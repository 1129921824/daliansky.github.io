<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>黑果小兵的部落阁</title>
    <link>http://blog.daliansky.net/</link>
    <atom:link href="/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>一些平时学习笔记以及搜集到的好的文章</description>
    <pubDate>Mon, 25 Sep 2017 22:33:52 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>【黑果小兵】macOS High Sierra 10.13正式版 with Clover 4221原版镜像</title>
      <link>http://blog.daliansky.net/macOS-High-Sierra-10.13-official-version-and-Clover-4221-original-image.html</link>
      <guid>http://blog.daliansky.net/macOS-High-Sierra-10.13-official-version-and-Clover-4221-original-image.html</guid>
      <pubDate>Mon, 25 Sep 2017 02:56:19 GMT</pubDate>
      <description>
      
        &lt;h3 id=&quot;【黑果小兵】macOS-High-Sierra-10-13正式版-with-Clover-4221原版镜像&quot;&gt;&lt;a href=&quot;#【黑果小兵】macOS-High-Sierra-10-13正式版-with-Clover-4221原版镜像&quot; class=&quot;heade
      
      </description>
      
      <content:encoded><![CDATA[<h3 id="【黑果小兵】macOS-High-Sierra-10-13正式版-with-Clover-4221原版镜像"><a href="#【黑果小兵】macOS-High-Sierra-10-13正式版-with-Clover-4221原版镜像" class="headerlink" title="【黑果小兵】macOS High Sierra 10.13正式版 with Clover 4221原版镜像"></a>【黑果小兵】macOS High Sierra 10.13正式版 with Clover 4221原版镜像</h3><ul>
<li>本镜像采用官方原版app制作，集成Clover 4221，支持UEFI启动安装。</li>
<li>Clover特别增加笔记本常用屏蔽独立显卡补丁，以解决安装10.13时会卡在<code>Service only ran for 0 seconds. Pushing respawn out by 10 second</code>的问题，特别感谢<code>@宪武</code>的搜集整理</li>
<li>Clover默认config.plist为620/630/640/650；</li>
<li>其它配置文件包括：HD520/530/540，HD550/P530,HD5000/5100/5200/5300/5500/6000,HD4000/4200/4400/4600,HD3000；所有config配置文件都可通过Clover引导界面-Options-configs进行选择；</li>
<li>如果无法引导到安装界面，可于Clover主界面-Options-Graphics进行显卡仿冒；</li>
<li>支持<a href="https://blog.daliansky.net/Broadcom-BCM94352z-DW1560-drive-new-posture.html#more">BCM94352z无线网卡</a>，支持Realtek8111系列网卡，支持Intel网卡；</li>
<li>已更新Lilu(1.2.0)、AppleALC(1.2.0)、IntelGraphicsFixup、IntelGraphicsDVMTFixup等补丁；</li>
<li>本镜像已经过本人安装测试，若您在使用中遇到问题，可通过爬楼自行解决。本人才疏学浅，所学知识都来自于远景社区，感谢远景各位大咖一直以来对老朽的大力支持，由于人员众多，恕不一一列名致谢！</li>
<li>本镜像发布站点：远景论坛/ <a href="https://blog.daliansky.net">黑果小兵的小站</a></li>
</ul>
<h4 id="截图："><a href="#截图：" class="headerlink" title="截图："></a>截图：</h4><p><img src="http://ous2s14vo.bkt.clouddn.com/Screen Shot 2017-09-26 at 3.55.30 AM.png" alt="Screen Shot 2017-09-26 at 3.55.30 AM"></p>
<p><img src="http://ous2s14vo.bkt.clouddn.com/屏幕快照 2017-09-26 上午6.01.52.png" alt="屏幕快照 2017-09-26 上午6.01.52"></p>
<p><img src="http://ous2s14vo.bkt.clouddn.com/屏幕快照 2017-09-26 上午6.03.09.png" alt="屏幕快照 2017-09-26 上午6.03.09"></p>
<p><img src="http://ous2s14vo.bkt.clouddn.com/screenshot17.png" alt="screenshot17"></p>
<h4 id="下载链接-http-pan-baidu-com-s-1dFCOnML"><a href="#下载链接-http-pan-baidu-com-s-1dFCOnML" class="headerlink" title="下载链接: http://pan.baidu.com/s/1dFCOnML"></a>下载链接: <a href="http://pan.baidu.com/s/1dFCOnML" target="_blank" rel="external">http://pan.baidu.com/s/1dFCOnML</a></h4><ul>
<li>MD5 (macOS High Sierra 10.13 Installer with Clover 4221.dmg) = 524fc80704b693ad6191a9191436cb5c</li>
</ul>
<h4 id="QQ群"><a href="#QQ群" class="headerlink" title="QQ群:"></a>QQ群:</h4><p>331686786 <a href="http://shang.qq.com/wpa/qunwpa?idkey=db511a29e856f37cbb871108ffa77a6e79dde47e491b8f2c8d8fe4d3c310de91" target="_blank" rel="external">一起黑苹果</a></p>
]]></content:encoded>
      
      <comments>http://blog.daliansky.net/macOS-High-Sierra-10.13-official-version-and-Clover-4221-original-image.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>小米笔记本Pro安装10.13随手记及EFI分享</title>
      <link>http://blog.daliansky.net/XiaoMiPro-notebook-Installation-10.13-readily-remember-and-share-EFI.html</link>
      <guid>http://blog.daliansky.net/XiaoMiPro-notebook-Installation-10.13-readily-remember-and-share-EFI.html</guid>
      <pubDate>Sat, 23 Sep 2017 03:12:16 GMT</pubDate>
      <description>
      
        &lt;h1 id=&quot;小米笔记本Pro安装10-13随手记&quot;&gt;&lt;a href=&quot;#小米笔记本Pro安装10-13随手记&quot; class=&quot;headerlink&quot; title=&quot;小米笔记本Pro安装10.13随手记&quot;&gt;&lt;/a&gt;小米笔记本Pro安装10.13随手记&lt;/h1&gt;&lt;blockquo
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="小米笔记本Pro安装10-13随手记"><a href="#小米笔记本Pro安装10-13随手记" class="headerlink" title="小米笔记本Pro安装10.13随手记"></a>小米笔记本Pro安装10.13随手记</h1><blockquote>
<p>帮朋友订购的小米Pro笔记本，配置是i5-8250/8GB/256GB，15.6寸显示器</p>
</blockquote>
<p><img src="http://ous2s14vo.bkt.clouddn.com/屏幕快照 2017-09-22 下午6.22.58.png" alt="屏幕快照 2017-09-22 下午6.22.58"></p>
<h3 id="安装中遇到的几个难点："><a href="#安装中遇到的几个难点：" class="headerlink" title="安装中遇到的几个难点："></a>安装中遇到的几个难点：</h3><h4 id="无法进入安装界面，需要屏蔽独显"><a href="#无法进入安装界面，需要屏蔽独显" class="headerlink" title="无法进入安装界面，需要屏蔽独显"></a>无法进入安装界面，需要屏蔽独显</h4><p>卡在Service only ran for 0 seconds. Pushing respawn out by 10 second，这是由于没有屏蔽独显而加载显卡驱动造成的，于是又开始爬帖子学习如何禁用独显，经过两个小时的研究，总算是把独显给屏蔽了。感觉自己是不是年龄大了，变得越来越笨了呢。</p>
<h4 id="Clover无法识别苹果分区卷标"><a href="#Clover无法识别苹果分区卷标" class="headerlink" title="Clover无法识别苹果分区卷标"></a>Clover无法识别苹果分区卷标</h4><p>显卡的问题解决了，终于进入安装界面了，10.13可以直接识别出NVME的磁盘而不需要任何的补丁，这点超赞。打开磁盘工具，直接把小米预装的Windows 10儿童版给干掉了，然后分了三个区，一个8GB的安装分区，省去制作安装U盘的麻烦，一个MAC，另一个WINDOWS，这么做的好处是直接会生成一个200MB的EFI分区。【这里插句题外话：我自从学习黑苹果以来，很少使用Windows工具，无论是调整分区还是恢复镜像，能在苹果环境下做的绝不进Windows】<br>要说NVME的速度真不是盖的，10.13的第一阶段的安装也就10几秒就自动进入重启了，要知道这个过程中可是复制了5GB的数据呢。<br>重启后发现个奇怪的问题：无论是安装分区还是MAC分区的卷标就是无法显示，于是停下来开始检查Drivers64UEFI目录下是否包含APFS及HFS驱动，发现这些驱动都躺在那儿，而且正常的情况下还没进第二阶段，磁盘的分区还没有自动转换成APFS。于是又不得不停下来开始继续爬帖，发现小米13.3的EFI，提取驱动及hotpatch做修正后CLOVER可以显示安装分区和MAC分区的卷标了，顺利进入第二阶段完成安装。</p>
<h4 id="安装驱动程序"><a href="#安装驱动程序" class="headerlink" title="安装驱动程序"></a>安装驱动程序</h4><p>进入新安装的系统，发现面临的工作还是不少的：网卡没有驱动，显卡没有驱动，声卡没有驱动，那系统怎么用呀？！<br>于是乎，找出USB的无线网卡，安装驱动，联网成功；<br>显卡是UHD620，platform-id是:59170000，折腾了好久总是没驱动好，于是乎就先仿冒吧，使用0x19160000可以顺利驱动显卡；<br>声卡通过linux提取codec，发现是ALC298，298的layoutid只有3、13、28、72这几个，于是直接编译个AppleALC，通过Clover注入总是无法发声，通过ioreg检查发现layoutid一直为3,于是又折回去检查hotpatch，发现有声卡的注入id，小刀一飞直接把它删除了。重启了三遍，发现id为28时可以正确发声。</p>
<h3 id="one-more-thing-触控板无法驱动，指纹无法识别"><a href="#one-more-thing-触控板无法驱动，指纹无法识别" class="headerlink" title="one more thing:触控板无法驱动，指纹无法识别"></a>one more thing:触控板无法驱动，指纹无法识别</h3><p>收工喽！！！<br><img src="http://ous2s14vo.bkt.clouddn.com/屏幕快照 2017-09-22 下午6.20.24.png" alt="屏幕快照 2017-09-22 下午6.20.24"><br><img src="http://ous2s14vo.bkt.clouddn.com/屏幕快照 2017-09-22 下午6.20.50.png" alt="屏幕快照 2017-09-22 下午6.20.50"><br><img src="http://ous2s14vo.bkt.clouddn.com/屏幕快照 2017-09-22 下午6.20.46.png" alt="屏幕快照 2017-09-22 下午6.20.46"><br><img src="http://ous2s14vo.bkt.clouddn.com/屏幕快照 2017-09-22 下午6.16.57.png" alt="屏幕快照 2017-09-22 下午6.16.57"><br><img src="http://ous2s14vo.bkt.clouddn.com/屏幕快照 2017-09-22 下午6.21.07.png" alt="屏幕快照 2017-09-22 下午6.21.07"><br><img src="http://ous2s14vo.bkt.clouddn.com/屏幕快照 2017-09-22 下午6.21.16.png" alt="屏幕快照 2017-09-22 下午6.21.16"></p>
<h4 id="下载链接"><a href="#下载链接" class="headerlink" title="下载链接"></a>下载链接</h4><p>EFI下载链接: <a href="https://pan.baidu.com/s/1skZkcR7" target="_blank" rel="external">https://pan.baidu.com/s/1skZkcR7</a> 密码: tw63</p>
<h4 id="QQ群"><a href="#QQ群" class="headerlink" title="QQ群:"></a>QQ群:</h4><p>331686786 <a href="http://shang.qq.com/wpa/qunwpa?idkey=db511a29e856f37cbb871108ffa77a6e79dde47e491b8f2c8d8fe4d3c310de91" target="_blank" rel="external">一起黑苹果</a></p>
]]></content:encoded>
      
      <comments>http://blog.daliansky.net/XiaoMiPro-notebook-Installation-10.13-readily-remember-and-share-EFI.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>【黑果小兵】macOS High Sierra 10.13GM 17A362a with Clover 4207原版镜像</title>
      <link>http://blog.daliansky.net/macOS-High-Sierra-10.13GM-17A362a-and-clover-4207-original-mirror.html</link>
      <guid>http://blog.daliansky.net/macOS-High-Sierra-10.13GM-17A362a-and-clover-4207-original-mirror.html</guid>
      <pubDate>Fri, 15 Sep 2017 09:51:24 GMT</pubDate>
      <description>
      
        &lt;h3 id=&quot;【黑果小兵】macOS-High-Sierra-10-13GM-17A362a-with-Clover-4207原版镜像&quot;&gt;&lt;a href=&quot;#【黑果小兵】macOS-High-Sierra-10-13GM-17A362a-with-Clover-4207原版镜像
      
      </description>
      
      <content:encoded><![CDATA[<h3 id="【黑果小兵】macOS-High-Sierra-10-13GM-17A362a-with-Clover-4207原版镜像"><a href="#【黑果小兵】macOS-High-Sierra-10-13GM-17A362a-with-Clover-4207原版镜像" class="headerlink" title="【黑果小兵】macOS High Sierra 10.13GM 17A362a with Clover 4207原版镜像"></a>【黑果小兵】macOS High Sierra 10.13GM 17A362a with Clover 4207原版镜像</h3><ul>
<li>本镜像采用官方原版app制作，集成Clover 4207，支持UEFI启动安装。</li>
<li>Clover默认config.plist为620/630/640/650；</li>
<li>其它配置文件包括：HD520/530/540，HD550/P530,HD5000/5100/5200/5300/5500/6000,HD4000/4200/4400/4600,HD3000；所有config配置文件都可通过Clover引导界面-Options-configs进行选择；</li>
<li>如果无法引导到安装界面，可于Clover主界面-Options-Graphics进行显卡仿冒；</li>
<li>支持<a href="https://blog.daliansky.net/Broadcom-BCM94352z-DW1560-drive-new-posture.html#more">BCM94352z无线网卡</a>，支持Realtek8111系列网卡；</li>
<li>已加入Lilu、IntelGraphicsFixup、IntelGraphicsDVMTFixup等补丁；</li>
<li>本镜像已经过本人安装测试，若您在使用中遇到问题，可通过爬楼自行解决。本人才疏学浅，所学知识都来自于远景社区，感谢远景各位大咖一直以来对老朽的大力支持，由于人员众多，恕不一一列名致谢！</li>
<li>本镜像发布站点：远景论坛/ <a href="https://blog.daliansky.net">黑果小兵的小站</a></li>
</ul>
<h4 id="截图："><a href="#截图：" class="headerlink" title="截图："></a>截图：</h4><p><img src="http://ous2s14vo.bkt.clouddn.com/17A362a_GM.png" alt="17A362a_GM"></p>
<p><img src="http://ous2s14vo.bkt.clouddn.com/Clover Configurator.png" alt="Clover Configurator"></p>
<p><img src="http://ous2s14vo.bkt.clouddn.com/Other Drivers.png" alt="Other Drivers"></p>
<h4 id="下载链接-https-pan-baidu-com-s-1pLNY8HX"><a href="#下载链接-https-pan-baidu-com-s-1pLNY8HX" class="headerlink" title="下载链接: https://pan.baidu.com/s/1pLNY8HX"></a>下载链接: <a href="https://pan.baidu.com/s/1pLNY8HX" target="_blank" rel="external">https://pan.baidu.com/s/1pLNY8HX</a></h4><ul>
<li>MD5 (macOS High Sierra 10.13GM 17A362a with Clover 4207.dmg) = 6d1ddfad2882f665bd0a11c5b291cb06</li>
</ul>
<h4 id="QQ群"><a href="#QQ群" class="headerlink" title="QQ群:"></a>QQ群:</h4><p>331686786 <a href="http://shang.qq.com/wpa/qunwpa?idkey=db511a29e856f37cbb871108ffa77a6e79dde47e491b8f2c8d8fe4d3c310de91" target="_blank" rel="external">一起黑苹果</a></p>
]]></content:encoded>
      
      <comments>http://blog.daliansky.net/macOS-High-Sierra-10.13GM-17A362a-and-clover-4207-original-mirror.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>CPUFriend的安装与使用</title>
      <link>http://blog.daliansky.net/CPUFriend-Installation-and-Usage.html</link>
      <guid>http://blog.daliansky.net/CPUFriend-Installation-and-Usage.html</guid>
      <pubDate>Thu, 14 Sep 2017 01:38:16 GMT</pubDate>
      <description>
      
        &lt;h1 id=&quot;CPUFriend安装和使用&quot;&gt;&lt;a href=&quot;#CPUFriend安装和使用&quot; class=&quot;headerlink&quot; title=&quot;CPUFriend安装和使用&quot;&gt;&lt;/a&gt;CPUFriend安装和使用&lt;/h1&gt;&lt;h4 id=&quot;系统要求&quot;&gt;&lt;a href=&quot;#系
      
      </description>
      
      <content:encoded><![CDATA[<h1 id="CPUFriend安装和使用"><a href="#CPUFriend安装和使用" class="headerlink" title="CPUFriend安装和使用"></a>CPUFriend安装和使用</h1><h4 id="系统要求"><a href="#系统要求" class="headerlink" title="系统要求"></a>系统要求</h4><p><code>CPUFriend</code> 需要macOS <strong><em>v10.8</em></strong>或更高版本</p>
<h4 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h4><p>强烈建议让引导程序注入<code>CPUFriend</code>，否则您将需要<a href="https://github.com/PMheart/LiluFriend" target="_blank" rel="external">LiluFriend</a>，以确保<code>CPUFriend</code>正常工作。</p>
<h4 id="可用的内核标志"><a href="#可用的内核标志" class="headerlink" title="可用的内核标志"></a>可用的内核标志</h4><p>添加<code>-cpufdbg</code>以启用调试日志记录（仅在DEBUG二进制文件中可用）<br>添加<code>-cpufoff</code>来关闭<code>CPUFriend</code><br>添加<code>-cpufbeta</code>以在不支持的操作系统版本上启用<code>CPUFriend</code></p>
<h4 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h4><p>使用<code>CPUFriend/ResourceConverter.sh</code>生成<code>CPUFriendProvider.kext</code>或<code>ssdt_data.dsl</code>的工作副本。如果您还有<a href="https://github.com/Piker-Alpha/ssdtPRGen.sh" target="_blank" rel="external">ssdtPRGen.sh</a>生成的SSDT，则可能需要合并它们。我不建议暂时添加这样的支持。所以我建议你使用<code>CPUFriendProvider.kext</code>存储您的定制数据。</p>
<h4 id="ResourceConverter-sh的使用"><a href="#ResourceConverter-sh的使用" class="headerlink" title="ResourceConverter.sh的使用"></a>ResourceConverter.sh的使用</h4><p>执行命令如下：</p>
<p>`./ResourceConverter.sh –kext “/Users/sky/Desktop/Mac-CAD6701F7CEA0921.plist”</p>
<p>它会在当前目录生成<code>CPUFriendProvider.kext</code>,将<code>CPUFriendProvider.kext</code>和<a href="https://github.com/PMheart/CPUFriend/releases" target="_blank" rel="external">CPUFriend.kext</a>复制到<code>/EFI/Clover/kexts/Other</code>，重建缓存，然后重启。</p>
<p>说明：</p>
<blockquote>
<p>其中的<code>/Users/sky/Desktop/Mac-CAD6701F7CEA0921.plist</code>是我自行修改的，可以通过直接调用系统提供的<code>/System/Library/Extensions/IOPlatformPluginFamily.kext/Contents/PlugIns/X86PlatformPlugin.kext/Contents/Resources/Mac-CAD6701F7CEA0921.plist</code></p>
</blockquote>
<p><code>--kext &quot;file&quot;</code> 用”file”提供的信息创建<code>CPUFriendProvider.kext</code></p>
<p><code>--acpi &quot;file&quot;</code> 使用”file”提供的信息创建<code>ssdt_data.dsl</code></p>
<p>注意：</p>
<ul>
<li>创建的 kext/ssdt 位于当前工作目录中</li>
<li>变量 <code>&quot;file&quot;</code> 应该是 <code>/System/Library/Extensions/IOPlatformPluginFamily.kext/Contents/PlugIns/X86PlatformPlugin.kext/Contents/Resources</code> 中的一个完整的plist，具有某些修改，而不是像原始的 <code>FrequencyVectors</code> 条目</li>
</ul>
<h4 id="原文链接"><a href="#原文链接" class="headerlink" title="原文链接"></a>原文链接</h4><p><a href="https://github.com/PMheart/CPUFriend/blob/master/Instructions.md" target="_blank" rel="external">CPUFriend Installation &amp; Usage</a></p>
<h4 id="QQ群"><a href="#QQ群" class="headerlink" title="QQ群:"></a>QQ群:</h4><p>331686786 <a href="http://shang.qq.com/wpa/qunwpa?idkey=db511a29e856f37cbb871108ffa77a6e79dde47e491b8f2c8d8fe4d3c310de91" target="_blank" rel="external">一起黑苹果</a></p>
]]></content:encoded>
      
      <comments>http://blog.daliansky.net/CPUFriend-Installation-and-Usage.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Broadcom BCM94352z/DW1560驱动新姿势[新方法]</title>
      <link>http://blog.daliansky.net/Broadcom-BCM94352z-DW1560-drive-new-posture.html</link>
      <guid>http://blog.daliansky.net/Broadcom-BCM94352z-DW1560-drive-new-posture.html</guid>
      <pubDate>Sat, 09 Sep 2017 01:35:23 GMT</pubDate>
      <description>
      
        &lt;h3 id=&quot;Broadcom-WiFi-BlueTooth-BCM94352z-DW1560-驱动新姿势-新方法&quot;&gt;&lt;a href=&quot;#Broadcom-WiFi-BlueTooth-BCM94352z-DW1560-驱动新姿势-新方法&quot; class=&quot;headerlink&quot;
      
      </description>
      
      <content:encoded><![CDATA[<h3 id="Broadcom-WiFi-BlueTooth-BCM94352z-DW1560-驱动新姿势-新方法"><a href="#Broadcom-WiFi-BlueTooth-BCM94352z-DW1560-驱动新姿势-新方法" class="headerlink" title="Broadcom WiFi/BlueTooth BCM94352z(DW1560)驱动新姿势[新方法]"></a>Broadcom WiFi/BlueTooth BCM94352z(DW1560)驱动新姿势[新方法]</h3><p>引言</p>
<blockquote>
<ul>
<li>昨晚<a href="https://github.com/pmheart" target="_blank" rel="external">口袋妖怪</a>进群闲聊的时候提到过 <code>她</code> 之前维护的<a href="https://github.com/PMheart/BrcmWLFixup" target="_blank" rel="external">BrcmWLFixup</a>已被 <a href="https://sourceforge.net/p/airportbrcmfixup/" target="_blank" rel="external">AirportBrcmFixup</a> 取代。同时 <code>她</code> 发给我的<a href="https://sourceforge.net/p/airportbrcmfixup/code/HEAD/tree/trunk/AirportBrcmFixup/kern_brcmfx.cpp#l242" target="_blank" rel="external">AirportBrcmFixup/kern_brcmfx.cpp</a>源码中已经增加了包括 <code>_si_pmu_fvco_pllreg</code> / <code>Chip identificator checking patch</code> / <code>Wi-Fi 5 Ghz/Country code patch (required for 10.11)</code> / <code>Third party device patch</code> / <code>White list restriction patch</code> / <code>Failed PCIe configuration (device-id checking)</code> 等问题的修复补丁</li>
<li>之前我写的一篇<a href="https://blog.daliansky.net/Broadcom-WiFi-BlueTooth-BCM94352z-DW1560-the%20correct-drive-posture.html">教程</a>已经不适用了，所以就测试之后重写一篇教程，目的是希望大家都少走弯路，更顺畅地用上黑苹果</li>
</ul>
</blockquote>
<h4 id="问题的提出："><a href="#问题的提出：" class="headerlink" title="问题的提出："></a>问题的提出：</h4><p>黑苹果的系统安装好后的第一件事情是得让它连接上互联网，以完善其它的驱动程序。也可借此安装类似<code>TeamViewer</code>或者<code>向日葵</code>之类的远程控制程序，让其它人通过远程的方式帮你完善系统。本文要介绍的就是教你如何驱动BCM94352z这款最常采用的无线网卡。</p>
<ul>
<li>在macOS上，当使用BMC94532z NGFF WiFi卡时，<code>AirportBrcm4360.kext</code>不再成功加载。这个问题是由于驱动程序无法初始化fvco（频率压控振荡器）等原因引起的。 </li>
</ul>
<h3 id="解决方案：同时支持10-11-10-13系统"><a href="#解决方案：同时支持10-11-10-13系统" class="headerlink" title="解决方案：同时支持10.11-10.13系统"></a>解决方案：同时支持10.11-10.13系统</h3><h4 id="Clover设置："><a href="#Clover设置：" class="headerlink" title="Clover设置："></a>Clover设置：</h4><ul>
<li>使用应用程序<code>Clover Configurator</code></li>
<li>在<code>Clover</code> - <code>Devices</code> - <code>FakeID</code> - <code>WIFI</code>中添加仿冒ID: <code>0x43a014e4</code></li>
<li>在<code>Clover</code> - <code>KextsToPatch</code> 应用以下补丁，以使BCM94352z启用蓝牙：</li>
</ul>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">Name:       IOBluetoothFamily</div><div class="line">Comment:    10.11+-BT4LE-Handoff-Hotspot-lisai9093</div><div class="line">Find:       4885ff74 47488b07 </div><div class="line">Replace:    41be0f00 0000eb44</div></pre></td></tr></table></figure>
<ul>
<li>可以使用文本编辑器直接打开<code>config.plist</code>，将下面的内容粘贴到<code>&lt;key&gt;KextsToPatch&lt;/key&gt;</code>里</li>
</ul>
<figure class="highlight xml"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">key</span>&gt;</span>Comment<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">string</span>&gt;</span>10.11+-BT4LE-Handoff-Hotspot-lisai9093<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">key</span>&gt;</span>Disabled<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">false</span>/&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">key</span>&gt;</span>Find<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">data</span>&gt;</span></div><div class="line">	SIX/dEdIiwc=</div><div class="line">	<span class="tag">&lt;/<span class="name">data</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">key</span>&gt;</span>Name<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">string</span>&gt;</span>IOBluetoothFamily<span class="tag">&lt;/<span class="name">string</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">key</span>&gt;</span>Replace<span class="tag">&lt;/<span class="name">key</span>&gt;</span></div><div class="line">	<span class="tag">&lt;<span class="name">data</span>&gt;</span></div><div class="line">	Qb4PAAAA60Q=</div><div class="line">	<span class="tag">&lt;/<span class="name">data</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></div></pre></td></tr></table></figure>
<h4 id="驱动："><a href="#驱动：" class="headerlink" title="驱动："></a>驱动：</h4><blockquote>
<p>下载：<a href="https://bitbucket.org/RehabMan/os-x-fake-pci-id/downloads" target="_blank" rel="external">RehabMan-FakePCIID</a> <a href="https://bitbucket.org/RehabMan/os-x-brcmpatchram/downloads" target="_blank" rel="external">RehabMan-BrcmPatchRAM</a> <a href="https://sourceforge.net/p/airportbrcmfixup/" target="_blank" rel="external">AirportBrcmFixup</a></p>
</blockquote>
<ol>
<li>将文件<code>BrcmFirmwareData.kext</code>和<code>BrcmPatchRAM2.kext</code>复制到<code>/EFI/CLOVER/kexts/Other</code>目录下</li>
<li>将文件<code>FakePCIID_Broadcom_WiFi.kext</code>和<code>FakePCIID.kext</code>复制到<code>/EFI/CLOVER/kexts/Other</code>目录下</li>
<li>将文件<code>AirportBrcmFixup.kext</code>复制到<code>/EFI/CLOVER/kexts/Other</code>目录下,由于<code>AirportBrcmFixup.kext</code>是依赖于<a href="https://github.com/vit9696/Lilu/releases" target="_blank" rel="external">Lilu</a>运行的插件，所以还需要检查该目录下必须存在<code>Lilu.kext</code></li>
<li>包括这些文件的目录看起来是这样的：<br><img src="http://ous2s14vo.bkt.clouddn.com/brcm94352z驱动.png" alt="brcm94352z驱动"></li>
</ol>
<p>当然，在重启前，还要重建一下系统的缓存，命令为：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">sudo rm -rf /System/Library/Caches/com.apple.kext.caches/Startup/kernelcache</div><div class="line">sudo rm -rf /System/Library/PrelinkedKernels/prelinkedkernel</div><div class="line">sudo touch /System/Library/Extensions/ &amp;&amp; sudo kextcache -u /</div></pre></td></tr></table></figure>
<p>重启你的系统，检查WIFI/蓝牙是否工作正常。</p>
<h4 id="写在最后"><a href="#写在最后" class="headerlink" title="写在最后"></a>写在最后</h4><p>这是驱动BCM94352z(DW1560)的基础教程，还有些高级设置需要各位多爬帖。</p>
<h4 id="QQ群"><a href="#QQ群" class="headerlink" title="QQ群:"></a>QQ群:</h4><p>331686786 <a href="http://shang.qq.com/wpa/qunwpa?idkey=db511a29e856f37cbb871108ffa77a6e79dde47e491b8f2c8d8fe4d3c310de91" target="_blank" rel="external">一起黑苹果</a></p>
]]></content:encoded>
      
      <comments>http://blog.daliansky.net/Broadcom-BCM94352z-DW1560-drive-new-posture.html#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
