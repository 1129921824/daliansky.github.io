<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0"
  xmlns:atom="http://www.w3.org/2005/Atom"
  xmlns:content="http://purl.org/rss/1.0/modules/content/">
  <channel>
    <title>黑果小兵的部落阁</title>
    <link>http://blog.daliansky.net/</link>
    <atom:link href="/rss2.xml" rel="self" type="application/rss+xml"/>
    
    <description>一些平时学习笔记以及搜集到的好的文章</description>
    <pubDate>Thu, 11 Oct 2018 11:53:13 GMT</pubDate>
    <generator>http://hexo.io/</generator>
    
    <item>
      <title>【黑果小兵】macOS Mojave 10.14 18A391 正式版 with Clover 4674原版镜像</title>
      <link>http://blog.daliansky.net/macOS-Mojave-10.14-18A391-official-version-with-Clover-4674-original-image.html</link>
      <guid>http://blog.daliansky.net/macOS-Mojave-10.14-18A391-official-version-with-Clover-4674-original-image.html</guid>
      <pubDate>Mon, 24 Sep 2018 18:21:11 GMT</pubDate>
      <description>
      
        
        
          &lt;!-- build time:Tue Oct 16 2018 14:24:00 GMT+0800 (China Standard Time) --&gt;&lt;h1&gt;【黑果小兵】macOS Mojave 10.14(18A391)正式版 with Clover 4674原版镜像&lt;/h1&gt;
        
      
      </description>
      
      <content:encoded><![CDATA[<!-- build time:Tue Oct 16 2018 14:24:00 GMT+0800 (China Standard Time) --><h1>【黑果小兵】macOS Mojave 10.14(18A391)正式版 with Clover 4674原版镜像</h1><ul><li><p>随着苹果发布了最新的MacBookPro 15,1/15,2这两款产品，macOS Mojave已于9月24日发布了正式版，它原生支持第八代核显;<strong>众多的8代CPU的朋友们可以彻底告别黑屏的痛苦</strong></p></li><li><p>镜像靓点：去除<code>USB端口限制</code>，减少禁行发生的几率；增加<code>Lilu</code>崩溃的日志信息显示；新增加<code>HD620/UHD620</code>的配置文件，原则上支持安装时驱动显卡；新增<code>UHD630</code>的配置文件，机型设置为<code>MacBookPro15,2</code>，显卡自动侦测；</p></li><li><p>本镜像采用官方原版app制作，集成Clover 4674，支持UEFI启动安装;<code>apfs.efi</code>同时去除日志显示；其它的驱动位于<code>drivers-Off</code>；</p></li><li><p>Clover集成了本人修改的全新主题，不喜欢的可以于安装系统后自行替换；<img src="http://7.daliansky.net/10.14/Clover4674.png" alt="0Clover"></p></li><li><p>所有配置文件中默认添加<code>Lilu</code>崩溃日志的输出信息,详见：<a href="https://blog.daliansky.net/Common-problems-and-solutions-in-macOS-Mojave-10.14-installation.html">macOS Mojave 10.14安装中常见的问题及解决方法</a>;</p></li><li><p>更新<code>WhateverGreen</code>到V1.2.3，原生支持UHD620/UHD630等八代核显，不需要注入<code>platform-id</code>， 同时它也支持NVIDIA和AMD的显卡，以及整合了<code>Shiki</code>和<code>CoreDisplayFixup</code>的驱动，现在是All In One了；</p><p><img src="http://7.daliansky.net/dell/IntelGraphicsFixup.jpg" alt="http://7.daliansky.net/dell/IntelGraphicsFixup.jpg"></p></li><li><p>Clover默认配置文件<code>config.plist</code>原则上支持各种机型引导安装；同时新增加了原生支持HD620/UHD620的配置文件<code>config_UHD620_HD620_59160000.plist</code>和八代UHD630的配置文件<code>config_UHD630.plist</code>，供您享用；</p></li><li><p>其它配置文件包括：HD520/530/540，HD550/P530,HD5000/5100/5200/5300/5500/6000,HD4200/4400/4600；所有config配置文件都可通过Clover引导界面-<code>Options</code>-<code>configs</code>进行选择；不会操作的请移步：<a href="https://blog.daliansky.net/clover-user-manual.html">Clover使用教程</a> <a href="https://blog.daliansky.net/MacOS-installation-tutorial-XiaoMi-Pro-installation-process-records.html">macOS安装教程</a></p></li></ul><ul><li><p>**安装过程（简易版）：**详细的安装教程请移步：<a href="https://blog.daliansky.net/MacOS-installation-tutorial-XiaoMi-Pro-installation-process-records.html">macOS安装教程</a></p><ul><li><p>下载镜像：<a href="https://blog.daliansky.net">黑果小兵的部落阁</a></p></li><li><p>校验md5值：</p><ul><li><p>macOS：打开终端，输入命令：</p></li><li><p></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">md5 macOS Mojave 10.14(18A391) Installer with Clover 4674.dmg<span class="comment"># 空格以\ 代替</span></span><br><span class="line">MD5 (macOS Mojave 10.14(18A391) Installer with Clover 4674.dmg) = 87928afc8f6d4d11e066a5044f8875bf</span><br></pre></td></tr></table></figure><p></p></li><li><p>Windows下：请使用<a href="http://www.winmd5.com" target="_blank" rel="noopener">winmd5</a>，将下载的安装镜像拖进winmd5窗口，核验md5值（截图略）</p></li></ul></li><li><p>镜像制作：</p><ul><li>下载<a href="https://etcher.io" target="_blank" rel="noopener">etcher</a>，打开镜像，选择U盘，点击Flash即可<img src="http://7.daliansky.net/etcher.png" alt="etcher"></li></ul></li><li><p>安装macOS：</p><ul><li><strong>安装过程中不要先替换EFI，等安装全部结果后再执行替换EFI的操作</strong></li><li>安装过程中出现问题请参考：<a href="https://blog.daliansky.net/clover-user-manual.html">clover使用教程</a> 以及 <a href="https://blog.daliansky.net/Common-problems-and-solutions-in-macOS-Mojave-10.14-installation.html">macOS Mojave 10.14安装中常见的问题及解决方法</a></li></ul></li><li><p>安装后所需要执行的动作：</p><ul><li><a href="https://blog.daliansky.net/MacOS-installation-tutorial-XiaoMi-Pro-installation-process-records.html#undefined">合并和替换EFI</a> <a href="https://blog.daliansky.net/Add-CLOVER-boot-to-UEFI-without-any-tools.html">不借助任何工具将CLOVER引导添加进UEFI的正确姿势</a></li><li>驱动：显卡、声卡、USB定制：<a href="https://blog.daliansky.net/Intel-FB-Patcher-tutorial-and-insertion-pose.html">Intel FB-Patcher使用教程及插入姿势</a> / <a href="https://blog.daliansky.net/Intel-core-display-platformID-finishing.html">黑苹果必备：Intel核显platform ID整理及smbios速查表</a> / <a href="https://blog.daliansky.net/Coffee-Lake-frame-buffer-patch-and-UHD630-Coffee-Lake-ig-platform-id-data-finishing.html">Coffee Lake帧缓冲区补丁及UHD630 Coffee Lake ig-platform-id数据整理</a></li><li>声卡仿冒：<a href="https://blog.daliansky.net/Use-AppleALC-sound-card-to-drive-the-correct-posture-of-AppleHDA.html">使用AppleALC声卡仿冒驱动AppleHDA的正确姿势</a></li><li>无线网卡：<a href="https://blog.daliansky.net/Broadcom-BCM94352z-DW1560-drive-new-posture.html">Broadcom BCM94352z/DW1560驱动新姿势新方法</a></li></ul></li></ul></li></ul><ul><li><p>本镜像集成的EFI如果无法安装，请根据自己的机型寻找相应的EFI进行替换，请参考：<a href="http://bbs.pcbeta.com/viewthread-1753483-1-1.html" target="_blank" rel="noopener">macOS High Sierra区笔记本安装情况集合帖</a></p></li><li><p>支持Realtek8111/8100系列有线网卡，支持Intel板载有线网卡；其它的网卡驱动位于<code>kexts/Other/其它驱动</code></p></li><li><p>已更新Lilu(v1.2.7)、AppleALC(v1.3.2)、WhateverGreen(v1.2.3)等驱动；</p></li><li><p>本镜像已经过本人安装测试，若您在使用中遇到问题，可通过爬楼自行解决。本人才疏学浅，所学知识都来自于远景社区，感谢远景各位大咖一直以来对 <code>黑果小兵</code> 的大力支持，由于人员众多，恕不一一列名致谢！</p></li><li><p>挂载EFI分区</p><p>Windows操作系统下面,以系统管理员身份打开<code>cmd</code>窗口,输入命令:</p><p></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">c:\&gt;diskpart</span><br><span class="line">list disk           <span class="comment"># 磁盘列表</span></span><br><span class="line">select disk n       <span class="comment"># 选择EFI分区所在的磁盘，n为磁盘号</span></span><br><span class="line">list partition      <span class="comment"># 磁盘分区列表</span></span><br><span class="line">select partition n  <span class="comment"># 选择EFI分区，n为EFI分区号</span></span><br><span class="line"><span class="built_in">set</span> id=<span class="string">"ebd0a0a2-b9e5-4433-87c0-68b6b72699c7"</span><span class="comment"># 设置为基本数据分区</span></span><br><span class="line">assign letter=X     <span class="comment"># x为EFI分区盘符</span></span><br><span class="line"><span class="built_in">exit</span><span class="comment"># 退出diskpart</span></span><br><span class="line">notepad<span class="comment"># 打开记事本程序，点击文件-&gt;打开，即可访问EFI分区</span></span><br></pre></td></tr></table></figure><p></p><p>您可以重复输入命令同时挂载USB的EFI分区和磁盘的EFI分区</p></li><li><p>本镜像发布站点：<a href="http://bbs.pcbeta.com/forum.php?gid=86" target="_blank" rel="noopener">远景论坛</a> / <a href="https://blog.daliansky.net">黑果小兵的部落阁</a></p></li></ul><h1>截图：</h1><p><img src="http://7.daliansky.net/10.14GM/1About.png" alt="1About"> <img src="http://7.daliansky.net/10.14GM/21Displays.png" alt="21Displays"> <img src="http://7.daliansky.net/10.14GM/22Displays.png" alt="22Displays"> <img src="http://7.daliansky.net/10.14GM/2Video.png" alt="2Video"> <img src="http://7.daliansky.net/dell7000/1Audio.png" alt="1Audio"> <img src="http://7.daliansky.net/dell7000/1Audio2.png" alt="1Audio2"> <img src="http://7.daliansky.net/dell7000/1AudioPatch.png" alt="1AudioPatch"> <img src="http://7.daliansky.net/dell7000/2BlueTooth.png" alt="2BlueTooth"> <img src="http://7.daliansky.net/dell7000/2BlueTooth2.png" alt="2BlueTooth2"> <img src="http://7.daliansky.net/dell7000/3Wifi.png" alt="3Wifi"> <img src="http://7.daliansky.net/dell7000/4Sata.png" alt="4Sata"> <img src="http://7.daliansky.net/dell7000/5Ethernet.png" alt="5Ethernet"> <img src="http://7.daliansky.net/dell7000/6USB.png" alt="6USB"> <img src="http://7.daliansky.net/dell7000/6USBFinal.png" alt="6USBFinal"> <img src="http://7.daliansky.net/dell7000/7Light.png" alt="7Light"> <img src="http://7.daliansky.net/dell7000/8Volume.png" alt="8Volume"> <img src="http://7.daliansky.net/dell7000/9Drivers.png" alt="9Drivers"> <img src="http://7.daliansky.net/10.14GM/4I2C.png" alt="4I2C"> <img src="http://7.daliansky.net/10.14GM/5TouchPad.png" alt="5TouchPad"> <img src="http://7.daliansky.net/10.14GM/8Drivers.png" alt="8Drivers"> <img src="http://7.daliansky.net/10.14GM/Mojave18A391.png" alt="10About"></p><h2>特别感谢</h2><p>@宪武 提供的新的hotpatch的全套方法</p><h1>下载链接</h1><p>迅雷离线下载：<a href="https://mirrors.dtops.cc/iso/MacOS/daliansky_macos/macOS%20Mojave%2010.14%2818A391%29%20Installer%20with%20Clover%204674.dmg" target="_blank" rel="noopener">请点击下载</a> 感谢<code>@难忘情怀</code>提供下载资源</p><p>http下载链接:<a href="https://mirrors.dtops.cc/iso/MacOS/daliansky_macos/" target="_blank" rel="noopener">请点击下载</a> 感谢<code>@难忘情怀</code>提供下载资源</p><p>百毒云：<a href="https://pan.baidu.com/s/1b0dNTcBxLhWKbxmlbJMd0Q" target="_blank" rel="noopener">https://pan.baidu.com/s/1b0dNTcBxLhWKbxmlbJMd0Q</a></p><p>MD5 (macOS Mojave 10.14(18A391) Installer with Clover 4674.dmg) = 87928afc8f6d4d11e066a5044f8875bf</p><h1>关于打赏</h1><p>您的支持就是我更新的动力！ 如果不希望看到博主停更的话，请点击下方的 <code>打赏</code> 支持一下，有钱的捧个钱场，没钱的捧个人场，谢谢大家！</p><!-- rebuild by neat -->]]></content:encoded>
      
      <comments>http://blog.daliansky.net/macOS-Mojave-10.14-18A391-official-version-with-Clover-4674-original-image.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>Intel FB-Patcher使用教程及插入姿势</title>
      <link>http://blog.daliansky.net/Intel-FB-Patcher-tutorial-and-insertion-pose.html</link>
      <guid>http://blog.daliansky.net/Intel-FB-Patcher-tutorial-and-insertion-pose.html</guid>
      <pubDate>Sun, 23 Sep 2018 02:14:05 GMT</pubDate>
      <description>
      
        
        
          &lt;!-- build time:Tue Oct 16 2018 14:24:00 GMT+0800 (China Standard Time) --&gt;&lt;h2&gt;Intel FB-Patcher使用教程及插入姿势&lt;/h2&gt;&lt;h2&gt;功能&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;支持Sandy Brid
        
      
      </description>
      
      <content:encoded><![CDATA[<!-- build time:Tue Oct 16 2018 14:24:00 GMT+0800 (China Standard Time) --><h2>Intel FB-Patcher使用教程及插入姿势</h2><h2>功能</h2><ul><li>支持Sandy Bridge，Ivy Bridge，Haswell，Broadwell，SKYLAKE，KabyLake，Coffee Lake, Cannon Lake Ice Lake几乎所有的平台</li><li>创建所有的显示接口连接和VRAM补丁</li><li>检测自动修补程序创建的变化</li><li>创建Clover补丁，支持hex，base64或Devices/Properties等三种格式</li><li>显示原生GPU和型号标识</li><li>显示和编辑内存信息，如Stolen，Framebuffer，VRAM，Cursor等</li><li>翻滚一些项目的其他信息（Tool tips）</li><li>直接读取已加载生效的xxxFramebuffer kext的数据</li><li>文件-&gt;打开通过Debug版本的<code>WhatEverGreen.kext</code>的<code>-igfxdump</code>引导标志生成的Framebuffer文件</li><li>文件- &gt;导出&gt;Clover config.plist</li><li>文件-&gt;导出- &gt; Framebuffer.txt</li><li>修补音频布局ID</li><li>添加USB端口限制补丁</li><li>插拔USB2 / USB3/Type-C设备和设定的端口的连接器类型然后生成一个``USBPorts.kext`的驱动程序</li><li>高级修补选项（DVMT-prealloc 32 MB ，VRAM 2048 MB，禁用eGPU，启用HDMI20（4K），欺骗SKL音频，DP-&gt;HDMI，USB端口限制，FB端口限制等）</li></ul><blockquote><p><strong>先来两个开味小菜：</strong></p></blockquote><h2>Layout-id修补</h2><ol><li><p>安装最新版本的Lilu和AppleALC</p></li><li><p>设置config.plist/Devices/Audio/Inject=NO</p></li><li><p>通过下拉列表设置Layout Id</p></li><li><p>检查补丁：General-&gt;Audio</p></li><li><p>File-&gt;Export-&gt;Clover config.plist</p></li><li><p>重启</p></li><li><p>如果没生效请重复第3步：更换不同的layout-id</p><p><img src="http://7.daliansky.net/FB-Patcher/AudioPatch.png" alt="udioPatch"></p></li></ol><p><img src="http://7.daliansky.net/FB-Patcher/AudioPatch2.png" alt="AudioPatch2"></p><h2>USB端口修补</h2><ol><li><p>应用USB端口限制补丁(在Patch-&gt;Advanced) 然后导出 File-&gt;Export-&gt;Clover config.plist <img src="http://7.daliansky.net/FB-Patcher/USBPortLimit.png" alt="USBPortLimit"></p></li><li><p>将<a href="https://github.com/RehabMan/OS-X-USB-Inject-All" target="_blank" rel="noopener">USBInjectAll.kext</a> 驱动放进<code>EFI/CLOVER/kexts/Other</code> ，同时需要在<code>config.plist-&gt;ACPI-&gt;DSDT Patches中添加重命名补丁</code></p><ul><li><p>change EHC1 to EH01</p></li><li><p>change EHC2 to EH02</p></li><li><p>change XHCI to XHC</p></li><li><p>两种格式：</p><ul><li><p></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Comment: change EHC1 to EH01</span><br><span class="line">Find:    45484331</span><br><span class="line">Replace: 45483031</span><br><span class="line">Comment: change EHC2 to EH02</span><br><span class="line">Find:    45484332</span><br><span class="line">Replace: 45483032</span><br><span class="line">Comment: change XHCI to XHC</span><br><span class="line">Find:    58484349</span><br><span class="line">Replace: 5848435f</span><br></pre></td></tr></table></figure><p></p></li><li><p></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">&lt;dict&gt;</span><br><span class="line">&lt;key&gt;Comment&lt;/key&gt;</span><br><span class="line">&lt;string&gt;change EHC1 to EH01&lt;/string&gt;</span><br><span class="line">&lt;key&gt;Disabled&lt;/key&gt;</span><br><span class="line">&lt;false/&gt;</span><br><span class="line">&lt;key&gt;Find&lt;/key&gt;</span><br><span class="line">&lt;data&gt;</span><br><span class="line">RUhDMQ==</span><br><span class="line">&lt;/data&gt;</span><br><span class="line">&lt;key&gt;Replace&lt;/key&gt;</span><br><span class="line">&lt;data&gt;</span><br><span class="line">RUgwMQ==</span><br><span class="line">&lt;/data&gt;</span><br><span class="line">&lt;/dict&gt;</span><br><span class="line">&lt;dict&gt;</span><br><span class="line">&lt;key&gt;Comment&lt;/key&gt;</span><br><span class="line">&lt;string&gt;change EHC2 to EH02&lt;/string&gt;</span><br><span class="line">&lt;key&gt;Disabled&lt;/key&gt;</span><br><span class="line">&lt;false/&gt;</span><br><span class="line">&lt;key&gt;Find&lt;/key&gt;</span><br><span class="line">&lt;data&gt;</span><br><span class="line">RUhDMg==</span><br><span class="line">&lt;/data&gt;</span><br><span class="line">&lt;key&gt;Replace&lt;/key&gt;</span><br><span class="line">&lt;data&gt;</span><br><span class="line">RUgwMg==</span><br><span class="line">&lt;/data&gt;</span><br><span class="line">&lt;/dict&gt;</span><br><span class="line">&lt;dict&gt;</span><br><span class="line">&lt;key&gt;Comment&lt;/key&gt;</span><br><span class="line">&lt;string&gt;change XHCI to XHC&lt;/string&gt;</span><br><span class="line">&lt;key&gt;Disabled&lt;/key&gt;</span><br><span class="line">&lt;false/&gt;</span><br><span class="line">&lt;key&gt;Find&lt;/key&gt;</span><br><span class="line">&lt;data&gt;</span><br><span class="line">WEhDSQ==</span><br><span class="line">&lt;/data&gt;</span><br><span class="line">&lt;key&gt;Replace&lt;/key&gt;</span><br><span class="line">&lt;data&gt;</span><br><span class="line">WEhDXw==</span><br><span class="line">&lt;/data&gt;</span><br><span class="line">&lt;/dict&gt;</span><br></pre></td></tr></table></figure><p></p><pre><code> - 它通常位于    <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;key&gt;ACPI&lt;/key&gt;</span><br><span class="line">&lt;dict&gt;</span><br><span class="line">&lt;key&gt;DSDT&lt;/key&gt;</span><br><span class="line">&lt;dict&gt;</span><br><span class="line">&lt;key&gt;Patches&lt;/key&gt;</span><br><span class="line">&lt;array&gt;</span><br></pre></td></tr></table></figure>     下面，如果使用文字编辑软件，请不要放错位置。</code></pre><ul><li><p>附图：<img src="http://7.daliansky.net/FB-Patcher/changeXHC.png" alt="changeXHC"></p></li><li><p>重命令名字符串转换16进制示意图<img src="http://7.daliansky.net/FB-Patcher/echo-n2xxd.png" alt="echo-n2xxd"></p></li></ul></li></ul></li></ul></li><li><p>你也许还会需要<code>XHCI-200-series-injector.kext</code>,<code>XHCI-300-series-injector.kext</code>或者<code>XHCI-x99-injector.kext</code>，这取决于你所使用的INTEL芯片组</p></li><li><p>重启机器，重新打开<code>Intel FB-Patcher</code></p></li><li><p>转到General-&gt;USB接口</p><ul><li>分别插入和拔出USB 2.0和USB 3.0设备，要求：将机器上的每个USB端口都插拔一遍。可用的端口将以突出的颜色标出<img src="http://7.daliansky.net/FB-Patcher/USBOrigin.png" alt="USBOrigin"></li></ul></li><li><p>设置每个端口，在下拉列表中选择适当的接口类型<img src="http://7.daliansky.net/FB-Patcher/USBTest.png" alt="USBTest"></p><ul><li><p>连接到USB3端口应设置为USB3(注HSxx端口)</p></li><li><p>USB type-C型端口可以是9或10，这取决于硬件如何处理USB type-C型设备/电缆的两种可能方向 如果USB-C在两个方向上使用相同的SSxx，则它具有内部开关（UsbConnector = 9） 如果USB-C在每个方向使用不同的SSxx，则它没有开关（UsbConnector = 10）</p></li></ul></li><li><p>使用删除按钮移除无用的端口<img src="http://7.daliansky.net/FB-Patcher/USB_HS07.png" alt="USB_HS07"><img src="http://7.daliansky.net/FB-Patcher/USBFinal.png" alt="USBFinal"></p></li><li><p>使用<code>Export</code>按钮创建<code>USBPorts.kext</code> ，它位于你的桌面，将生成的<code>USBPorts.kext</code>复制进 <code>EFI/CLOVER/kexts/Other</code> **备注:**旧版本生成的驱动名称为<code>USBPower.kext</code><img src="http://7.daliansky.net/FB-Patcher/USBPower.png" alt="USBPower"></p></li><li><p>你现在可以删除掉<code>USBInjectAll.kext</code> 以及关闭端口限制的补丁了</p></li></ol><h3>FAQ</h3><p>Q. 什么是<code>USBPorts.kext</code>? A. 它是一个<a href="https://developer.apple.com/library/archive/documentation/Darwin/Conceptual/KEXTConcept/KEXTConceptAnatomy/kext_anatomy.html#//apple_ref/doc/uid/20002364-SW8" target="_blank" rel="noopener">Codeless Kernel Extension</a> 用于注入USB端口，让所有的USB端口都能正常工作 Q. 我还需要<code>SSDT-UIAC.aml</code>吗 A. 不，这个方法生成的是一个空壳的无代码的kext驱动</p><h2>核心功能：给FrameBuffer打补丁</h2><p>随着<code>macOS Mojave</code>的发行，之前的通过<code>CLOVER</code>-<code>KextsToPatch</code>通过修补帧缓冲的方法已经失效了，尤其是<code>SkyLake</code>及以后架构。您现在必须使用<code>Lilu</code> + <code>WhateverGreen</code>+<code>FB Patcher</code>的方式来驱动您的显卡。</p><h3>初步动作</h3><ul><li><p>删除<code>FakePCIID</code> <code>IntelGraphicsFixup</code>,<code>NvidiaGraphicsFixup</code>,<code>Shiki</code>和<code>CoreDisplayFixup</code></p></li><li><p>关闭<code>Clover</code>里面关于<code>Graphics</code>注入的参数，这些参数包括：</p><ul><li>config.plist/Graphics/Inject/ATI=NO</li><li>config.plist/Graphics/Inject/Intel=NO</li><li>config.plist/Graphics/Inject/NVidia=NO</li><li>config.plist/Graphics/ig-platform-id=</li><li>config.plist/Devices/FakeID/IntelGFX=</li></ul></li><li><p>关闭<code>Clover</code>里面关于<code>DSDT</code>的修复：</p><ul><li>AddHDMI</li><li>FixDisplay</li><li>FixIntelGfx</li><li>AddIMEI</li></ul></li><li><p>禁用<code>UseIntelHDMI</code></p></li><li><p>移除<code>boot argument</code>参数：<code>-disablegfxfirmware</code></p></li><li><p>移除<code>IGPU</code>和<code>HDMI</code>部分的全部内容，包括：</p><ul><li>config.plist/Devices/Arbitrary</li><li>config.plist/Devices/Properties</li><li>config.plist/Devices/AddProperties</li></ul></li><li><p>从以下位置删除任何与<code>IGPU</code>和<code>HDMI</code>相关的<code>SSDT</code>和<code>DSDT</code>：</p><ul><li>CLOVER/ACPI/patched</li></ul></li></ul><h3>使用方法</h3><ol><li>打开应用：<code>Intel FB Patcher.app</code></li><li>通过菜单项：<code>Framebuffer</code>选择<code>macOS 10.13.6 (17G2112)</code> / <code>macOS 10.14(18A389)</code><img src="http://7.daliansky.net/FB-Patcher/FB-Patcher_Select.png" alt="FB-Patcher_Select"></li><li>选择显卡的次代，比如<code>Intel HD Graphics 620</code>就需要选择<code>Kaby Lake</code>，<code>Intel HD Graphics 520</code>就需要选择<code>Skylake</code>等等，之后选择<code>Platform-id</code>，这个就是能正确驱动你的显卡的id，至于这个ID如何确定，请参考<a href="https://blog.daliansky.net/Intel-core-display-platformID-finishing.html">黑苹果必备：Intel核显platform ID整理及smbios速查表</a>。欲了解更多信息，请阅读<a href="https://www.tonymacx86.com/threads/guide-intel-framebuffer-patching-using-whatevergreen.256490/" target="_blank" rel="noopener">使用WhateverGreen英特尔帧缓冲修补</a>指南。中文版：<a href="https://blog.daliansky.net/Coffee-Lake-frame-buffer-patch-and-UHD630-Coffee-Lake-ig-platform-id-data-finishing.html">Coffee Lake帧缓冲区补丁及UHD630 Coffee Lake ig-platform-id数据整理</a></li><li>点击<code>Patch</code>按钮，在<code>Patch Options</code>-<code>General</code>选项中勾选<code>Auto Detect Changes</code>，<code>All</code>,<code>Connectors</code>,<code>VRAM</code>这几个选项；</li><li>在<code>Patch Options</code>-<code>Advanced</code>选项中勾选<code>DVMT pre-alloc 32 MB</code>，<code>VRAM 2048 MB</code>，<code>Enable HDMI20(4K)</code></li><li>勾选<code>Device id</code>，选择<code>platfrom-id</code>相对应的设置id，这通常跟你的显卡名称相吻合；</li><li>点击<code>Generate Patch</code>生成显卡驱动补丁；</li><li>通过菜单项：<code>File</code>-<code>Export</code>-<code>config.plist</code>，将该补丁导出到CLOVER的配置文件中；</li></ol><h3>几个例子：</h3><ul><li><p>Coffee Lake（八代）平台:Intel UHD Graphics 630(Mobile)<img src="http://7.daliansky.net/FB-Patcher/3E9B-A.png" alt="3E9B-A"><img src="http://7.daliansky.net/FB-Patcher/3E9B-B.png" alt="3E9B-B"><img src="http://7.daliansky.net/FB-Patcher/3E9B-C.png" alt="3E9B-C">通过菜单项：<code>File</code>-<code>Export</code>-<code>config.plist</code>，将该补丁导出到CLOVER的配置文件</p></li><li><p>Kabe Lake（七代）平台Intel HD Graphics 620/Intel UHD Graphics 620(Mobile)<img src="http://7.daliansky.net/FB-Patcher/5916-A.png" alt="5916-A"><img src="http://7.daliansky.net/FB-Patcher/5916-B.png" alt="5916-B"><img src="http://7.daliansky.net/FB-Patcher/5916-C.png" alt="5916-C">通过菜单项：<code>File</code>-<code>Export</code>-<code>config.plist</code>，将该补丁导出到CLOVER的配置文件</p></li><li><p>Sky Lake（六代）平台:Intel HD Graphics 530(Mobile)<img src="http://7.daliansky.net/FB-Patcher/191B-A.png" alt="191B-A"><img src="http://7.daliansky.net/FB-Patcher/191B-B.png" alt="191B-B"><img src="http://7.daliansky.net/FB-Patcher/191B-C.png" alt="191B-C">通过菜单项：<code>File</code>-<code>Export</code>-<code>config.plist</code>，将该补丁导出到CLOVER的配置文件</p></li><li><p>Haswell（四代）平台：Intel HD Graphics 4600(Mobile)<img src="http://7.daliansky.net/FB-Patcher/0A26-A.png" alt="0A26-A"><img src="http://7.daliansky.net/FB-Patcher/0A26-B.png" alt="0A26-B"><img src="http://7.daliansky.net/FB-Patcher/0A26-C.png" alt="0A26-C">通过菜单项：<code>File</code>-<code>Export</code>-<code>config.plist</code>，将该补丁导出到CLOVER的配置文件</p></li></ul><h2>本教程会随着新版本新增功能持续更新</h2><h2>下载链接</h2><p><a href="http://headsoft.com.au/download/mac/FBPatcher.zip" target="_blank" rel="noopener">http://headsoft.com.au/download/mac/FBPatcher.zip</a></p><h2>鸣谢</h2><ul><li>vit9696 for <a href="https://github.com/acidanthera/WhateverGreen" target="_blank" rel="noopener">WhateverGreen</a> (<a href="https://github.com/acidanthera/WhateverGreen#credits" target="_blank" rel="noopener">full credits</a>), <a href="https://github.com/acidanthera/Lilu" target="_blank" rel="noopener">Lilu</a> (<a href="https://github.com/acidanthera/Lilu#credits" target="_blank" rel="noopener">full credits</a>), <a href="https://github.com/acidanthera/AppleALC" target="_blank" rel="noopener">AppleALC</a> (<a href="https://github.com/acidanthera/AppleALC#credits" target="_blank" rel="noopener">full credits</a>), USBPower.kext and additional help</li><li>vit9696 for <a href="https://github.com/acidanthera/WhateverGreen/blob/master/Manual/IntelFramebuffer.bt" target="_blank" rel="noopener">IntelFramebuffer.bt</a> with additional work by bcc9, Piker-Alpha and joevt</li><li>DalianSky for <a href="https://blog.daliansky.net/Intel-core-display-platformID-finishing.html">Intel Core Platform ID and SMBIOS Quick Reference</a></li><li>vandroiy2013 for audio id data from <a href="https://github.com/acidanthera/AppleALC" target="_blank" rel="noopener">AppleALC</a></li><li>RehabMan for AllData patch method and various technical info</li></ul><!-- rebuild by neat -->]]></content:encoded>
      
      <comments>http://blog.daliansky.net/Intel-FB-Patcher-tutorial-and-insertion-pose.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>不借助任何工具将CLOVER引导添加进UEFI的正确姿势</title>
      <link>http://blog.daliansky.net/Add-CLOVER-boot-to-UEFI-without-any-tools.html</link>
      <guid>http://blog.daliansky.net/Add-CLOVER-boot-to-UEFI-without-any-tools.html</guid>
      <pubDate>Thu, 20 Sep 2018 00:56:12 GMT</pubDate>
      <description>
      
        
        
          &lt;!-- build time:Tue Oct 16 2018 14:24:00 GMT+0800 (China Standard Time) --&gt;&lt;h2&gt;不借助任何工具将CLOVER引导添加进UEFI的正确姿势&lt;/h2&gt;&lt;p&gt;经常安装hackintosh的同学会发现，安装完m
        
      
      </description>
      
      <content:encoded><![CDATA[<!-- build time:Tue Oct 16 2018 14:24:00 GMT+0800 (China Standard Time) --><h2>不借助任何工具将CLOVER引导添加进UEFI的正确姿势</h2><p>经常安装hackintosh的同学会发现，安装完macOS后，需要做的第一件事情就要将EFI移进机器自带的磁盘中，同时添加CLOVER引导项到UEFI中以实现CLOVER引导加载macOS。通常的作法是进Windows/PE工具里，使用类似EASY UEFI或者BOOTICE之类的工具添加一条引导记录到UEFI中。现在教给大家一招：不借助任何工具，使用CLOVER自带的功能添加一个CLOVER引导项到UEFI中。、</p><h3>操作步骤：</h3><p>1.进入CLOVER主界面： <img src="http://7.daliansky.net/Clover_Boot_Options/1Clover_Main_Screen.png" alt="1Clover_Main_Screen"></p><p>2.将光标移动到<code>Clover Boot Options</code>，回车： <img src="http://7.daliansky.net/Clover_Boot_Options/2Clover_Boot_Options.png" alt="2Clover_Boot_Options"></p><p>3.选择<code>Add Clover Boot Options</code>，回车：</p><p><img src="http://7.daliansky.net/Clover_Boot_Options/3Add_Clover_Boot_Options.png" alt="Add Clover Boot Options"></p><p>4.重新启动，按<code>F8</code>或者<code>F12</code>选择<code>Boot Clover with EFI</code>之类的引导项进入CLOVER引导macOS；</p><p>5.收工。</p><!-- rebuild by neat -->]]></content:encoded>
      
      <comments>http://blog.daliansky.net/Add-CLOVER-boot-to-UEFI-without-any-tools.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>【黑果小兵】macOS Mojave 10.14(18A389) with Clover 4670原版镜像</title>
      <link>http://blog.daliansky.net/macOS-Mojave-10.14-18A389-Release-with-Clover-4670-original-mirror.html</link>
      <guid>http://blog.daliansky.net/macOS-Mojave-10.14-18A389-Release-with-Clover-4670-original-mirror.html</guid>
      <pubDate>Thu, 13 Sep 2018 11:57:50 GMT</pubDate>
      <description>
      
        
        
          &lt;!-- build time:Tue Oct 16 2018 14:24:00 GMT+0800 (China Standard Time) --&gt;&lt;h1&gt;【黑果小兵】macOS Mojave 10.14(18A389) with Clover 4670原版镜像&lt;/h1&gt;&lt;ul
        
      
      </description>
      
      <content:encoded><![CDATA[<!-- build time:Tue Oct 16 2018 14:24:00 GMT+0800 (China Standard Time) --><h1>【黑果小兵】macOS Mojave 10.14(18A389) with Clover 4670原版镜像</h1><ul><li><p>随着苹果发布了最新的MacBookPro 15,1/15,2这两款产品，macOS Mojave的发布也日益临近，它原生支持第八代核显;<strong>众多的8代CPU的朋友们可以彻底告别黑屏的痛苦</strong></p></li><li><p>镜像靓点：去除<code>USB端口限制</code>，减少禁行发生的几率；增加<code>Lilu</code>崩溃的日志信息显示；新增加<code>HD620/UHD620</code>的配置文件，原则上支持安装时驱动显卡；新增<code>UHD630</code>的配置文件，机型设置为<code>MacBookPro15,2</code>，显卡自动侦测；</p></li><li><p>本镜像采用官方原版app制作，集成Clover 4670，支持UEFI启动安装;<code>Drivers64UEFI/</code>目录下只保留的<code>AptioMemoryFix.efi</code>以解决卡+++问题；添加<code>ApfsDriverLoader-64.efi</code>，自动加载<code>apfs.efi</code>驱动，同时去除日志显示；其它的驱动位于<code>drivers-Off</code>；</p></li><li><p>Clover集成了本人修改的全新主题，不喜欢的可以于安装系统后自行替换；<img src="http://7.daliansky.net/10.14GM/0Clover.png" alt="0Clover"></p></li><li><p>所有配置文件中默认添加<code>Lilu</code>崩溃日志的输出信息,详见：<a href="https://blog.daliansky.net/Common-problems-and-solutions-in-macOS-Mojave-10.14-installation.html">macOS Mojave 10.14安装中常见的问题及解决方法</a>;</p></li><li><p>更新<code>WhateverGreen</code>到V1.2.2，原生支持UHD620/UHD630等八代核显，不需要注入<code>platform-id</code>， 同时它也支持NVIDIA和AMD的显卡，以及整合了<code>Shiki</code>和<code>CoreDisplayFixup</code>的驱动，现在是All In One了；</p><p><img src="http://7.daliansky.net/dell/IntelGraphicsFixup.jpg" alt="http://7.daliansky.net/dell/IntelGraphicsFixup.jpg"></p></li><li><p>Clover默认配置文件<code>config.plist</code>原则上支持各种机型引导安装；同时新增加了原生支持HD620/UHD620的配置文件<code>config_UHD620_HD620_59160000.plist</code>和八代UHD630的配置文件<code>config_UHD630.plist</code>，供您享用；</p></li><li><p>其它配置文件包括：HD520/530/540，HD550/P530,HD5000/5100/5200/5300/5500/6000,HD4200/4400/4600；所有config配置文件都可通过Clover引导界面-<code>Options</code>-<code>configs</code>进行选择；不会操作的请移步：<a href="https://blog.daliansky.net/clover-user-manual.html">Clover使用教程</a> <a href="https://blog.daliansky.net/MacOS-installation-tutorial-XiaoMi-Pro-installation-process-records.html">macOS安装教程</a></p></li><li><p>如果无法引导到安装界面，可于Clover主界面-<code>Options</code>-<code>Graphics</code>进行显卡仿冒；不会操作的请移步：<a href="https://blog.daliansky.net/clover-user-manual.html">Clover使用教程</a> <a href="https://blog.daliansky.net/MacOS-installation-tutorial-XiaoMi-Pro-installation-process-records.html">macOS安装教程</a></p></li><li><p>本镜像集成的EFI如果无法安装，请根据自己的机型寻找相应的EFI进行替换，请参考：<a href="http://bbs.pcbeta.com/viewthread-1753483-1-1.html" target="_blank" rel="noopener">macOS High Sierra区笔记本安装情况集合帖</a></p></li><li><p>支持Realtek8111/8100系列有线网卡，支持Intel板载有线网卡；其它的网卡驱动位于<code>kexts/Other/其它驱动</code></p></li><li><p>已更新Lilu(v1.2.7)、AppleALC(v1.3.1)、WhateverGreen(v1.2.2)等驱动；</p></li><li><p>本镜像已经过本人安装测试，若您在使用中遇到问题，可通过爬楼自行解决。本人才疏学浅，所学知识都来自于远景社区，感谢远景各位大咖一直以来对 <code>黑果小兵</code> 的大力支持，由于人员众多，恕不一一列名致谢！</p></li><li><p>挂载EFI分区</p><p>Windows操作系统下面,以系统管理员身份打开<code>cmd</code>窗口,输入命令:</p><p></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">c:\&gt;diskpart</span><br><span class="line">list disk           <span class="comment"># 磁盘列表</span></span><br><span class="line">select disk n       <span class="comment"># 选择EFI分区所在的磁盘，n为磁盘号</span></span><br><span class="line">list partition      <span class="comment"># 磁盘分区列表</span></span><br><span class="line">select partition n  <span class="comment"># 选择EFI分区，n为EFI分区号</span></span><br><span class="line"><span class="built_in">set</span> id=<span class="string">"ebd0a0a2-b9e5-4433-87c0-68b6b72699c7"</span><span class="comment"># 设置为基本数据分区</span></span><br><span class="line">assign letter=X     <span class="comment"># x为EFI分区盘符</span></span><br><span class="line"><span class="built_in">exit</span><span class="comment"># 退出diskpart</span></span><br><span class="line">notepad<span class="comment"># 打开记事本程序，点击文件-&gt;打开，即可访问EFI分区</span></span><br></pre></td></tr></table></figure><p></p><p>您可以重复输入命令同时挂载USB的EFI分区和磁盘的EFI分区</p></li><li><p>本镜像发布站点：<a href="http://bbs.pcbeta.com/forum.php?gid=86" target="_blank" rel="noopener">远景论坛</a> / <a href="https://blog.daliansky.net">黑果小兵的部落阁</a></p></li></ul><h1>截图：</h1><p><img src="http://7.daliansky.net/10.14GM/1About.png" alt="1About"> <img src="http://7.daliansky.net/10.14GM/21Displays.png" alt="21Displays"> <img src="http://7.daliansky.net/10.14GM/22Displays.png" alt="22Displays"> <img src="http://7.daliansky.net/10.14GM/2Video.png" alt="2Video"> <img src="http://7.daliansky.net/10.14GM/3USB.png" alt="3USB"> <img src="http://7.daliansky.net/10.14GM/4I2C.png" alt="4I2C"> <img src="http://7.daliansky.net/10.14GM/5TouchPad.png" alt="5TouchPad"> <img src="http://7.daliansky.net/10.14GM/9Ext.png" alt="9Ext"> <img src="http://7.daliansky.net/10.14GM/8Drivers.png" alt="8Drivers"> <img src="http://7.daliansky.net/10.14GM/10About.png" alt="10About"> <img src="http://7.daliansky.net/10.14GM/99Terminal.png" alt="99Terminal"></p><h1>下载链接</h1><p>迅雷离线下载：<a href="https://mirrors.dtops.cc/iso/MacOS/daliansky_macos/macOS%20Mojave%2010.14%2818A389%29%20Installer%20with%20Clover%204670.dmg" target="_blank" rel="noopener">请点击下载</a> 感谢<code>@难忘情怀</code>提供下载资源</p><p>http下载链接:<a href="https://mirrors.dtops.cc/iso/MacOS/daliansky_macos/" target="_blank" rel="noopener">请点击下载</a> 感谢<code>@难忘情怀</code>提供下载资源</p><p>百毒云：<a href="https://pan.baidu.com/s/1TDxM3jOlVYy1VhsHxAQQdg" target="_blank" rel="noopener">请点击下载</a></p><p>MD5 (macOS Mojave 10.14(18A389) Installer with Clover 4670.dmg) = fa9ae4c01242051c013250e1025c794c</p><h1>关于打赏</h1><p>您的支持就是我更新的动力！ 如果不希望看到博主停更的话，请点击下方的 <code>打赏</code> 支持一下，有钱的捧个钱场，没钱的捧个人场，谢谢大家！</p><!-- rebuild by neat -->]]></content:encoded>
      
      <comments>http://blog.daliansky.net/macOS-Mojave-10.14-18A389-Release-with-Clover-4670-original-mirror.html#disqus_thread</comments>
    </item>
    
    <item>
      <title>macOS Mojave 10.14安装中常见的问题及解决方法</title>
      <link>http://blog.daliansky.net/Common-problems-and-solutions-in-macOS-Mojave-10.14-installation.html</link>
      <guid>http://blog.daliansky.net/Common-problems-and-solutions-in-macOS-Mojave-10.14-installation.html</guid>
      <pubDate>Sun, 05 Aug 2018 01:05:51 GMT</pubDate>
      <description>
      
        
        
          &lt;!-- build time:Tue Oct 16 2018 14:24:00 GMT+0800 (China Standard Time) --&gt;&lt;blockquote&gt;&lt;p&gt;随着macOS Mojave(莫哈韦) 10.14发行正式版本的临近，各种安装常见问题也需要同步更新
        
      
      </description>
      
      <content:encoded><![CDATA[<!-- build time:Tue Oct 16 2018 14:24:00 GMT+0800 (China Standard Time) --><blockquote><p>随着macOS Mojave(莫哈韦) 10.14发行正式版本的临近，各种安装常见问题也需要同步更新，本篇文章就是针对10.14的常见问题的汇总，我会持续不间断更新，敬请期待</p></blockquote><h2>关于<code>Clover Bootloader</code>的版本</h2><p>想要正确地安装macOS Mojave 10.14，它要求你的<code>Clover Bootloader</code>版本不低于r4515，截止到目前为止，<code>Clover Bootloader</code>的版本已经更新为v2.4k r4636。<a href="https://github.com/Dids/clover-builder/releases" target="_blank" rel="noopener">Clover Bootloader最新版本下载</a></p><h2>关于HD3000平台</h2><p>macOS Mojave 10.14已经不支持Sandy Bridge平台的安装使用，解决方法有两个：</p><ul><li>在引导标志(boot args)添加<code>-no_compat_check</code>跳过兼容性检查</li><li>修改SMBIOS为：<code>MacBookAir5,1</code></li></ul><h2>Kaby Lake UHD 620显卡特别说明</h2><p>部分基于类似<code>AAPL</code> <code>GfxYTile</code>的注入参数在macOS Mojave 10.14中会失效，它要求将<code>Clover Bootloader</code>版本至少更新到r4587或以上，<a href="https://github.com/Dids/clover-builder/releases" target="_blank" rel="noopener">Clover Bootloader最新版本下载</a></p><h2>关于声卡注入的ID</h2><p>Apple已从macOS Mojave 10.14上的<code>AppleHDA.kext</code>中删除了大量的Layouts，因此很多人需要修改/修补当前的AppleHDA.kext / AudioInjector才能使音频恢复到工作状态。 Apple在macOS Mojave上删除的布局ID为： Layout1,3,8,9,11,12,13,18,22,23,24,25,26,27,28,29,30,31,32,34,36,37,38,39,41， 42,43,44,45,46,47,48,49,50等 要查看已删除的布局的完整列表以及可用于替换已删除的布局的列表，下面是一张可以使用并可在macOS Mojave 10.14上使用的可用布局的图片：</p><p><img src="http://7.daliansky.net/10.14/10.14_layoutid.jpg" alt="10.14_layoutid"></p><p>好消息是vit9696通过更新他的<code>AppleALC</code>解决了影响去除布局的问题。<code>AppleALC</code>最新版本的下载：<a href="https://github.com/acidanthera/AppleALC/releases" target="_blank" rel="noopener">https://github.com/acidanthera/AppleALC/releases</a></p><h2>minStolenSize新补丁，用于<code>Broadwell</code>, <code>Skylake</code> 以及<code>Kabylake</code></h2><ul><li><p>Kaby Lake</p><p></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Comment:</span> Disable minStolenSize less <span class="keyword">or</span> equal fStolenMemorySize assertion, <span class="number">10.14</span> Credits (Sniki)</span><br><span class="line"><span class="symbol">Name:</span> com.apple.driver.AppleIntelKBLGraphicsFramebuffer</span><br><span class="line"><span class="symbol">Find:</span> <span class="number">764648</span>FF <span class="number">05</span></span><br><span class="line"><span class="symbol">Replace:</span> EB4648FF <span class="number">05</span></span><br></pre></td></tr></table></figure><p></p></li><li><p>Sky Lake</p><p></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Comment:</span> Disable minStolenSize less <span class="keyword">or</span> equal fStolenMemorySize assertion, <span class="number">10.14</span> Credits (Sniki)</span><br><span class="line"><span class="symbol">Name:</span> com.apple.driver.AppleIntelSKLGraphicsFramebuffer</span><br><span class="line"><span class="symbol">Find:</span> <span class="number">764048</span>FF <span class="number">05</span></span><br><span class="line"><span class="symbol">Replace:</span> EB4048FF <span class="number">05</span></span><br></pre></td></tr></table></figure><p></p></li><li><p>Broadwall</p><p></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Comment:</span> Disable minStolenSize less <span class="keyword">or</span> equal fStolenMemorySize assertion, <span class="number">10.14</span> Credits (Sniki)</span><br><span class="line"><span class="symbol">Name:</span> com.apple.driver.AppleIntelBDWGraphicsFramebuffer</span><br><span class="line"><span class="symbol">Find:</span> <span class="number">764048</span>FF <span class="number">05</span></span><br><span class="line"><span class="symbol">Replace:</span> EB4048FF <span class="number">05</span></span><br></pre></td></tr></table></figure><p></p></li></ul><h2>USB解除端口限制补丁</h2><p></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Comment:</span> USB Port limit patch <span class="number">10.14</span> (credits FredWst)</span><br><span class="line"><span class="symbol">Name:</span> com.apple.driver.usb.AppleUSBXHCI</span><br><span class="line"><span class="symbol">Find:</span> <span class="number">83</span>FB0F0F <span class="number">83030500</span> <span class="number">00</span></span><br><span class="line"><span class="symbol">Replace:</span> <span class="number">83</span>FB0F9<span class="number">0</span> <span class="number">90909090</span> <span class="number">90</span></span><br></pre></td></tr></table></figure><p></p><p></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Comment:</span> USB Port limit patch <span class="number">10.14</span>.<span class="number">1</span> <span class="number">18</span>B50C (credits DalianSky)</span><br><span class="line"><span class="symbol">Name:</span> com.apple.driver.usb.AppleUSBXHCI</span><br><span class="line"><span class="symbol">Find:</span> <span class="number">83</span>FB0F0F <span class="number">838</span>F040<span class="number">0</span> <span class="number">00</span></span><br><span class="line"><span class="symbol">Replace:</span> <span class="number">83</span>FB0F9<span class="number">0</span> <span class="number">90909090</span> <span class="number">90</span></span><br></pre></td></tr></table></figure><p></p><h2>Intel HD3000显卡驱动</h2><p>由于macOS Mojave 10.14中已经将<code>AppleIntelHD3000Graphics.kext</code>等相关驱动移除，一个折衷的解决方案是复制一份<code>macOS Sierra 10.12.x</code>的驱动到<code>/System/Library/Extensions</code>，重建缓存后重启即可享用。详见https://www.tonymacx86.com/threads/success-lenovo-b570e.255129/page-2#post-1770059</p><h2>找回丢失的DW1560/Brcm94352Z驱动</h2><p>Mojave系统下的蓝牙会失效，截止到目前的解决方法是：将文件<code>BrcmFirmwareData.kext</code>和<code>BrcmPatchRAM2.kext</code>复制到<code>/Library/Extensions</code>目录下</p><p>当然，在重启前，还要重建一下系统的缓存，命令为：</p><p></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">sudo chmod -Rf 755 /S*/L*/E*</span><br><span class="line">sudo chown -Rf 0:0 /S*/L*/E*</span><br><span class="line">sudo chmod -Rf 755 /L*/E*</span><br><span class="line">sudo chown -Rf 0:0 /L*/E*</span><br><span class="line">sudo rm -Rf /S*/L*/PrelinkedKernels/*</span><br><span class="line">sudo rm -Rf /S*/L*/Caches/com.apple.kext.caches/*</span><br><span class="line">sudo touch -f /S*/L*/E*</span><br><span class="line">sudo touch -f /L*/E*</span><br><span class="line">sudo kextcache -Boot -U /</span><br></pre></td></tr></table></figure><p></p><p>如果嫌输入命令麻烦，也可以使用应用<code>Kext Utility</code>重建缓存。</p><p>重启你的系统，检查WIFI/蓝牙是否工作正常。</p><h2>关于10.14高通无线失效无法驱动的问题的解决方案[来自套路]</h2><p>升级到Mojave的大家应该都看到了，14的驱动删掉了好多，最惹人注意的就是A卡的一堆、hd3000的几个、N卡的几个加上高通的无线网卡驱动，用了很久也琢磨了好久后，终于找到了解决高通无线挂的解决方案，下面是方法：</p><p>由于14系统内删除了Airport40的驱动，而ath9k插件又正是对其起的作用，因此前提条件是我们需要将13的这个kext拿来用，后面我会给出附件，ath9k插件的作者很久没有维护了，目前为止，作者源码只支持到10.13，因此需要我们手动修改源码使其能够支持到10.14，这里不做过多介绍，有兴趣的可以在下面评论，我会尽量解答，这里只把需要的附件做简要说明，大家也就不用再去clone源码修改编译了，附件主要包括3个，第一个是AtherosAirport40驱动，是我从13.6beta4中提取出来的，大家直接将其安装到/Library/Extensions/即可，然后就是我基于作者源码修改后的ath9k插件和最新的lilu（也是最新源码修改的），将这两个插件放到CLOVER，最后，为了保险起见，在config加上两个boot参数，分别是<code>-lilubetaall</code> 和 <code>-ath9565</code>，当然这是9565的参数，其余参数参见ath9k的说明文档，下面有链接，然后重建缓存、修复权限重启就可以了。详见：http://bbs.pcbeta.com/viewthread-1790406-1-1.html 感谢套路<a href="https://github.com/athlonreg" target="_blank" rel="noopener">athlonreg</a></p><h2>APFS转换解决方法</h2><p>Apple已经删除了我们必须避免APFS转换的选项，常规的方法已经无法避免安装过程中自动将分区转换为APFS格式，包括在硬盘上安装以及SSD上面安装。 以下是一些目前已知的替代品： 1.使用<code>Carbon Copy Cloner</code>（CCC）应用程序格式驱动器备份到HFS + J并恢复备份。 2.使用此应用程序将APFS分区转换为HFS + J：https：//www.paragon-software.com/home/apfs-hfs-converter/ 3.使用USB转SATA电缆从外部卸下HDD / SSD并安装macOS（似乎避免了APFS转换）。 4.修补安装程序，由你来找到这个方法。</p><h2>安装中出现的<code>IOConsoleUsers: time(0) 0-&gt;0, lin 0, llk 1, IOConsoleUsers: gIOScreenLockState 3, hs 0, bs 0, nov 0, sm 0x0</code>错误的临时解决方法</h2><p>群里最常见的安装过程中出现的一个错误是：</p><p></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">IOConsoleUsers: time(0) 0-&gt;0, lin 0, llk 1,</span><br><span class="line">IOConsoleUsers: gIOScreenLockState 3, hs 0, bs 0, nov 0, sm 0x0</span><br></pre></td></tr></table></figure><p></p><p>原因是系统无法识别出你的显卡驱动，临时的解决方法是：</p><ul><li>取消勾选<code>Inject Intel</code></li><li>或者将<code>platform-id</code>修改为<code>0x12345678</code></li><li>两种方法二选一，不知道如何操作的请移步<a href="https://blog.daliansky.net/clover-user-manual.html">Clover使用教程</a></li></ul><p><img src="http://7.daliansky.net/10.14/platform-id_0x12345678.jpg" alt="platform-id_0x12345678"></p><p>安装完成后再通过<code>Clover Configurator</code>设置正确的<code>FakeID</code>和<code>ig-plaform-id</code>驱动你的显卡。</p><h2>去掉<code>Lilu</code>的输出信息,还原10.14 内核崩溃(kernel pance)的真相</h2><p>**方法1：**使用文本编辑器，在<code>KernelToPatch</code>段落添加内容：</p><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>KernelToPatch<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>Comment<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>Disable panic kext logging on 10.14 Release kernel (c) vit9696<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>Disabled<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">false</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>Find<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">data</span>&gt;</span></span><br><span class="line">igKEwHRC</span><br><span class="line"><span class="tag">&lt;/<span class="name">data</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>MatchOS<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">string</span>&gt;</span>10.14.x<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>Replace<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">data</span>&gt;</span></span><br><span class="line">igKEwOtC</span><br><span class="line"><span class="tag">&lt;/<span class="name">data</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><p>**方法2：**使用<code>Clover Configurator</code>打开<code>config.plist</code> - <code>Kernel and Kext Patches</code> - <code>kernelToPatch</code>，新添加：</p><p></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">Comment:</span>    Disable panic kext logging on <span class="number">10.13</span> Release kernel</span><br><span class="line"><span class="symbol">Find:</span>       <span class="number">8</span>a0284c<span class="number">0</span> <span class="number">7442</span></span><br><span class="line"><span class="symbol">Replace:</span>    <span class="number">8</span>a0284c<span class="number">0</span> eb42</span><br><span class="line"><span class="symbol">MatchOS:</span>    <span class="number">10.14</span>.x</span><br></pre></td></tr></table></figure><p></p><h2>其它的内核补丁备用，请自行食用：</h2><p></p><figure class="highlight ruby"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">cpuid_set_info_rdmsr (c) vit9696</span><br><span class="line">B9A0010<span class="number">0</span> <span class="number">000</span>F32</span><br><span class="line">B9A0010<span class="number">0</span> <span class="number">0031</span>C<span class="number">0</span></span><br><span class="line"><span class="number">10.12</span>.x,<span class="number">10.13</span>.x,<span class="number">10.14</span>.x</span><br><span class="line"> </span><br><span class="line">xcpm_idle_wrmsr (c) Pike R. Alpha</span><br><span class="line">B9E2000<span class="number">0</span> <span class="number">000</span>F3<span class="number">0</span></span><br><span class="line">B9E2000<span class="number">0</span> <span class="number">00</span>909<span class="number">0</span></span><br><span class="line"><span class="number">10.12</span>.x,<span class="number">10.13</span>.x,<span class="number">10.14</span>.x</span><br><span class="line"> </span><br><span class="line">xcpm_assert_rdmsr (c) Sherlocks</span><br><span class="line">B998010<span class="number">0</span> <span class="number">000</span>F32</span><br><span class="line">B998010<span class="number">0</span> <span class="number">0031</span>C<span class="number">0</span></span><br><span class="line"><span class="number">10.12</span>.x,<span class="number">10.13</span>.x,<span class="number">10.14</span>.x</span><br><span class="line"> </span><br><span class="line">xcpm_SMT_scope_msrs (c) Pike R. Alpha</span><br><span class="line">BE0B000<span class="number">0</span> <span class="number">005</span>DE908 <span class="number">000000</span></span><br><span class="line">BE0B000<span class="number">0</span> <span class="number">005</span>DC39<span class="number">0</span> <span class="number">909090</span></span><br><span class="line"><span class="number">10.12</span>.x,<span class="number">10.13</span>.x,<span class="number">10.14</span>.x</span><br><span class="line"> </span><br><span class="line">cpuid_set_info (c) Pike R. Alpha</span><br><span class="line"><span class="number">04723</span>CD<span class="number">0</span></span><br><span class="line"><span class="number">04</span>XX3CD<span class="number">0</span> </span><br><span class="line"><span class="number">10.13</span>.x,<span class="number">10.14</span>.x</span><br><span class="line">- <span class="symbol">XX:</span> need value you want</span><br><span class="line">﻿  </span><br><span class="line">xcpm_bootstrap (c) Pike R. Alpha</span><br><span class="line"><span class="number">89</span>D804C4 <span class="number">3</span>C22</span><br><span class="line"><span class="number">89</span>D804XX <span class="number">3</span>C22</span><br><span class="line"><span class="number">10.13</span>.x,<span class="number">10.14</span>.x</span><br><span class="line">- <span class="symbol">XX:</span> need value you want</span><br><span class="line"> </span><br><span class="line">xcpm_assert_wrmsr (c) Sherlocks</span><br><span class="line">B999010<span class="number">0</span> <span class="number">000</span>F3<span class="number">0</span></span><br><span class="line">B999010<span class="number">0</span> <span class="number">00</span>909<span class="number">0</span></span><br><span class="line"><span class="number">10.13</span>.x,<span class="number">10.14</span>.x</span><br><span class="line"> </span><br><span class="line">xcpm_core_scope_msrs (c) Pike R. Alpha</span><br><span class="line">BE03000<span class="number">0</span> <span class="number">0031</span>D2E8 <span class="number">79</span>FCFFFF</span><br><span class="line">BE03000<span class="number">0</span> <span class="number">0031</span>D29<span class="number">0</span> <span class="number">90909090</span></span><br><span class="line"> </span><br><span class="line">xcpm_pkg_scope_msrs (c) Pike R. Alpha</span><br><span class="line">BE07000<span class="number">0</span> <span class="number">0031</span>D2E8 <span class="number">91</span>FCFFFF</span><br><span class="line">BE07000<span class="number">0</span> <span class="number">0031</span>D29<span class="number">0</span> <span class="number">90909090</span></span><br><span class="line"><span class="number">10.14</span>.x</span><br><span class="line"> </span><br><span class="line">xcpm_program_msrs (c) Pike R. Alpha</span><br><span class="line"><span class="number">554889</span>E5 <span class="number">41574156</span> <span class="number">41554154</span> <span class="number">53504189</span> D64889FB <span class="number">4189</span>F54C <span class="number">8</span>D3D6387</span><br><span class="line">C39089E5 <span class="number">41574156</span> <span class="number">41554154</span> <span class="number">53504189</span> D64889FB <span class="number">4189</span>F54C <span class="number">8</span>D3D6387</span><br><span class="line"><span class="number">10.14</span>.x</span><br><span class="line"> </span><br><span class="line">xcpm_SMT_scope_msrs (c) Pike R. Alpha</span><br><span class="line">BE0B000<span class="number">0</span> <span class="number">0031</span>D2E8 <span class="number">66</span>FCFFFF</span><br><span class="line">BE0B000<span class="number">0</span> <span class="number">0031</span>D29<span class="number">0</span> <span class="number">90909090</span></span><br><span class="line"><span class="number">10.14</span>.x</span><br></pre></td></tr></table></figure><p></p><h2>Block injected kexts 禁用无效的、未知的驱动程序</h2><p>当你面对这么一堆驱动的时候，如何让它们有条不紊地正常工作呢？万一出现问题的时候又如何让这些驱动在Clover引导的时候禁用它们呢？这个时候 <code>Block injected kexts</code> 就派上用场了。新版的 <code>Clover Bootloader</code> 已经将 <code>Block injected kexts</code> 放到了 <code>macOS</code> 系统分区的图标下面了。</p><ul><li>操作方法：<ul><li>开机进入clover引导界面，要引导的分区卷标上按 <code>空格</code> 即可进入 <img src="http://7.daliansky.net/1-main.png" alt="1-main"></li><li>光标移动到 <code>Block injected kexts</code> 回车进入 <img src="http://7.daliansky.net/Blockinjectedkexts.png" alt="kim"></li><li>选择当前系统加载的驱动程序目录 <img src="http://7.daliansky.net/BIKSelect.png" alt="kimselect"></li><li>勾选禁用的驱动程序 <img src="http://7.daliansky.net/BIKChoose.png" alt="kimoptions"></li><li>按 <code>ESC</code> 退出该子菜单</li></ul></li></ul><h2>选择-v时出现<code>Attempting system restart...MACH Reboot</code>的解决方法</h2><p>在安装High Sierra启动过程中，选择-v跑时会出现</p><p></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Attempting system restart...MACH Reboot</span><br></pre></td></tr></table></figure><p></p><p>而不用-v图跑直接显示苹果标志时则不会出现。</p><h3>解决方法</h3><p>在<code>config.plist</code>配置文件<code>DropTables</code>下添加以下代码：</p><p></p><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>ACPI<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">key</span>&gt;</span>DropTables<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">array</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>Signature<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>MATS<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>Signature<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>DMAR<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">dict</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">key</span>&gt;</span>Signature<span class="tag">&lt;/<span class="name">key</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">string</span>&gt;</span>BGRT<span class="tag">&lt;/<span class="name">string</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">dict</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">array</span>&gt;</span></span><br></pre></td></tr></table></figure><p></p><h2>抹盘时提示&quot;MediaKit报告设备上的空间不足以执行请求的操作&quot;的原因及解决方法</h2><blockquote><p>群里遇到最多的问题就是抹盘时提示&quot;MediaKit报告设备上的空间不足以执行请求的操作&quot;,一直想就此写个解决方法</p></blockquote><h3>原因</h3><p>出现该提示最根本的原因就是你之前的磁盘分区中<code>ESP</code>分区的尺寸小于200MB</p><h3>解决方法</h3><ul><li><code>Windows</code>下使用<code>diskgenius</code>删除掉<code>MSR</code>分区,将多出来的分区合并到<code>ESP</code>,正好凑成200MB,以满足安装<code>macOS</code>的基本需求.</li><li><code>macOS</code>下可以直接使用<code>磁盘工具</code>进行抹盘,它会自动生成一个200MB的EFI分区,当然前提条件是你需要先备份好磁盘里的数据,否则会造成全盘数据的丢失,请谨慎操作.</li></ul><h2>关于macOS Mojave 10.14下修改显存以及帧缓存、显示接口</h2><p>请移步另一篇教程：<a href="https://blog.daliansky.net/Coffee-Lake-frame-buffer-patch-and-UHD630-Coffee-Lake-ig-platform-id-data-finishing.html">Coffee Lake帧缓冲区补丁及UHD630 Coffee Lake ig-platform-id数据整理</a></p><h2>教你将U盘上的EFI复制到磁盘的EFI分区,脱离USB运行[macOS篇]</h2><blockquote><p>新的系统安装成功后，EFI还位于U盘里，总不能一直挂着U盘使用系统吧。这个时候如果你想将U盘里的EFI复制到磁盘的EFI分区里，却苦于找不到看不见EFI分区，这个时候是该让<code>diskutil</code>登场了。</p></blockquote><p><code>diskutil</code>命令的基本用法：</p><h3>查看磁盘分区表</h3><p></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">diskutil list</span><br></pre></td></tr></table></figure><p></p><p>/dev/disk0(internal, physical):</p><table><thead><tr><th>#:</th><th style="text-align:right">TYPE</th><th>NAME</th><th>SIZE</th><th>IDENTIFIER</th></tr></thead><tbody><tr><td>0:</td><td style="text-align:right">GUID_partition_scheme</td><td></td><td>256 GB</td><td>disk0</td></tr><tr><td>1:</td><td style="text-align:right">EFI</td><td>EFI</td><td>200 MB</td><td>disk0s1</td></tr><tr><td>2:</td><td style="text-align:right">Apple_HFS</td><td>MAC</td><td>128 GB</td><td>disk0s2</td></tr><tr><td>3:</td><td style="text-align:right">Microsoft Basic Data</td><td>WIN10</td><td>127.7 GB</td><td>disk0s3</td></tr></tbody></table><p>/dev/disk1(internal, physical):</p><table><thead><tr><th>#:</th><th style="text-align:right">TYPE</th><th>NAME</th><th>SIZE</th><th>IDENTIFIER</th></tr></thead><tbody><tr><td>0:</td><td style="text-align:right">GUID_partition_scheme</td><td></td><td>16 GB</td><td>disk1</td></tr><tr><td>1:</td><td style="text-align:right">EFI</td><td>EFI</td><td>200 MB</td><td>disk1s1</td></tr><tr><td>2:</td><td style="text-align:right">Apple_HFS</td><td>Install macOS Sierra</td><td>15.8 GB</td><td>disk1s2</td></tr></tbody></table><h3>挂载磁盘EFI分区</h3><p></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo diskutil mount disk0s1</span><br></pre></td></tr></table></figure><p></p><h3>挂载U盘EFI分区</h3><p></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo diskutil mount disk1s1</span><br></pre></td></tr></table></figure><p></p><p>打开Finder，注意后面有个<code>.</code></p><p></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">open .</span><br></pre></td></tr></table></figure><p></p><p>左侧会显示挂载了两个EFI分区，将U盘EFI目录全部复制到磁盘的EFI分区即可。</p><h3>合并EFI分区</h3><p><strong>这里有一点需要注意</strong>:<em>如果之前安装过Windows系统的话,会存在EFI的目录,只是EFI的目录下面只有BOOT和Microsoft这两个目录,如果希望添加macOS的Clover引导的话,可以将USB的EFI分区里面的EFI目录下面的CLOVER复制到磁盘里的EFI目录下,也就是执行的是</em><strong>合并</strong><em>的操作,让EFI同时支持WINDOWS和macOS的引导.千万不要全部复制,否则有可能造成EFI无法启动Windows.</em></p><h3>复制EFI分区</h3><p>如果磁盘上的EFI分区里为空的,可以直接将USB的EFI分区下面的EFI目录直接复制到磁盘上的EFI分区里.</p><h2>教你将U盘上的EFI复制到磁盘的EFI分区,脱离USB运行[Windows篇]</h2><h3>挂载EFI分区</h3><p>Windows操作系统下面,打开<code>cmd</code>窗口,输入命令:</p><p></p><figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">diskpart</span><br><span class="line">list disk           <span class="comment"># 磁盘列表</span></span><br><span class="line">select disk n       <span class="comment"># 选择EFI分区所在的磁盘，n为磁盘号</span></span><br><span class="line">list partition      <span class="comment"># 磁盘分区列表</span></span><br><span class="line">select partition n  <span class="comment"># 选择EFI分区，n为EFI分区号</span></span><br><span class="line"><span class="built_in">set</span> id=<span class="string">"ebd0a0a2-b9e5-4433-87c0-68b6b72699c7"</span><span class="comment"># 设置为EFI分区</span></span><br><span class="line">assign letter=X     <span class="comment"># x为EFI分区盘符</span></span><br></pre></td></tr></table></figure><p></p><p>您可以重复输入命令同时挂载USB的EFI分区和磁盘的EFI分区 打开资源管理器，会出现一个盘符为X的磁盘，格式化为fat32格式,将USB的EFI分区下面的EFI目录复制到安装磁盘的EFI分区下</p><h3>合并EFI分区</h3><p><strong>这里有一点需要注意</strong>:<em>如果之前安装过Windows系统的话,会存在EFI的目录,只是EFI的目录下面只有BOOT和Microsoft这两个目录,如果希望添加macOS的Clover引导的话,可以将USB的EFI分区里面的EFI目录下面的CLOVER复制到磁盘里的EFI目录下,也就是执行的是</em><strong>合并</strong><em>的操作,让EFI同时支持WINDOWS和macOS的引导.千万不要全部复制,否则有可能造成EFI无法启动Windows.</em></p><h3>复制EFI分区</h3><p>如果磁盘上的EFI分区里为空的,可以直接将USB的EFI分区下面的EFI目录直接复制到磁盘上的EFI分区里.</p><h2>添加UEFI引导选项</h2><p>使用工具:BOOTICE</p><h3>操作过程:</h3><ol><li>打开BOOTICE软件,选择<code>物理磁盘</code>,选择欲操作的目标磁盘,点击<code>分区管理</code>,弹出分区管理的窗口,点击<code>分配盘符</code>,为<code>ESP</code>分区分配一个盘符,点击确定 <img src="http://7.daliansky.net/BOOTICE1.jpg" alt="BOOTICE1"></li><li>选择<code>UEFI</code>,点击<code>修改启动序列</code>,点击<code>添加</code>按钮,菜单标题填写:<code>CLOVER</code>,选择<code>启动文件</code>,在打开的窗口里选择<code>ESP</code>分区下的目录<code>\EFI\CLOVER\CLOVERX64.EFI</code>,点击<code>保存当前启动项设置</code> <img src="http://7.daliansky.net/BOOTICE2.jpg" alt="BOOTICE2"></li></ol><h2></h2><h2>重建缓存的命令</h2><p>打开终端，输入命令：</p><p></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line">sudo chmod -Rf 755 /S*/L*/E*</span><br><span class="line">sudo chown -Rf 0:0 /S*/L*/E*</span><br><span class="line">sudo chmod -Rf 755 /L*/E*</span><br><span class="line">sudo chown -Rf 0:0 /L*/E*</span><br><span class="line">sudo rm -Rf /S*/L*/PrelinkedKernels/*</span><br><span class="line">sudo rm -Rf /S*/L*/Caches/com.apple.kext.caches/*</span><br><span class="line">sudo touch -f /S*/L*/E*</span><br><span class="line">sudo touch -f /L*/E*</span><br><span class="line">sudo kextcache -Boot -U /</span><br></pre></td></tr></table></figure><p></p><h2>写在最后</h2><blockquote><p>本文会不定期更新 最后更新：8-5-2018</p></blockquote><h2>关于打赏</h2><p>您的支持就是我更新的动力！ 如果不希望看到博主停更的话，请点击下方的 <code>打赏</code> 支持一下，有钱的捧个钱场，没钱的捧个人场，谢谢大家！</p><!-- rebuild by neat -->]]></content:encoded>
      
      <comments>http://blog.daliansky.net/Common-problems-and-solutions-in-macOS-Mojave-10.14-installation.html#disqus_thread</comments>
    </item>
    
  </channel>
</rss>
